{% extends "base.html" %}

{% block title %}Stored XSS Demo (FIXED){% endblock %}

{% block mode_switch %}
    <a href="/?mode=vuln">Switch to VULNERABLE version</a>
{% endblock %}

{% block content %}
<h1>Stored XSS Demo â€“ Fixed</h1>

<h2>Comments</h2>
<ul>
    {% for c in comments %}
        <!-- FIXED: escaped output -->
        <li>{{ c }}</li>
    {% endfor %}
</ul>

<h2>Add Comment</h2>
<form method="POST">
    <textarea name="comment" rows="3" cols="40"></textarea><br>
    <button type="submit">Post</button>
</form>
{% endblock %}
